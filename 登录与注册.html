<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>登录与注册</title>

		<link rel="stylesheet" href="css/reset.min.css">
		<link rel="stylesheet" href="css/style.css">

	</head>
	<body>
		<section class="user">

			<div class="user_options-container">
				<div class="user_options-text">
					<div class="user_options-unregistered">
						<h2 class="user_unregistered-title">没有账号？</h2>
						<p class="user_unregistered-text">点击按钮注册成为会员.</p>
						<button class="user_unregistered-signup" id="signup-button">注册</button>
					</div>

					<div class="user_options-registered">
						<h2 class="user_registered-title">已有账号?</h2>
						<p class="user_registered-text">点击按钮会员登录.</p>
						<button class="user_registered-login" id="login-button">登录</button>
					</div>
				</div>
				<form>
					<div class="user_options-forms" id="user_options-forms">
						<div class="user_forms-login">
							<h2 class="forms_title">登录</h2>
							<form class="forms_form" action="index.html">
								<fieldset class="forms_fieldset">
									<div class="forms_field">
										<input type="email" placeholder="邮箱" class="forms_field-input" id="email" required autofocus />
									</div>
									<div class="forms_field">
										<input type="password" placeholder="密码" class="forms_field-input" id="login_pwd" required autofocus />
										<img src="img/hide.png" style="width: 30px;height: 30px;" id="login_pwdimg">
									</div>
								</fieldset>
								<div class="forms_buttons">
									<a href="phone.html"><button type="button" class="forms_buttons-forgot">忘记密码?</button></a>
									<input type="submit" value="登录" class="forms_buttons-action" id="login">
								</div>
							</form>
						</div>
						<div class="user_forms-signup">
							<h2 class="forms_title" style="position: relative;top: -40px;">注册</h2>
							<form class="forms_form">
								<fieldset class="forms_fieldset">
									<div class="forms_field">
										<input type="text" placeholder="名称" class="forms_field-input" id="Name" required />
									</div>
									<div class="forms_field">
										<input type="email" placeholder="邮箱" class="forms_field-input" id="zhuceEmail" required />
									</div>
									<div class="forms_field">
										<input type="password" placeholder="密码" class="forms_field-input" id="input_pwd" required />
										<img src="img/hide.png" style="width: 30px;height: 30px;" id="img_eyes">
										<input type="checkbox" name="" id="check_box" value="" /><span id="font_tiaokuan">
											同意即<a href="tk.html"><span id="check_tiaokuan">《遵循豪少集团服务条款》</span></a>
										</span>
									</div>
									<div class="forms_field" id="repwd">
										<input type="password" class="forms_field-input" placeholder="确认密码" id="input_repwd" required />
										<img src="img/hide.png" id="img_reEyes" style="width: 30px;height: 30px;">
									</div>
									<div class="forms_field">
										<input type="text" class="forms_field-input" placeholder="验证码" id="yanzheng" required />
									</div>
								</fieldset>
								<div class="forms_buttons" id="q123">
									<input type="submit" value="注册" class="forms_buttons-action" id="zhuceaaa" onclick="" style="position: relative;top: -90px;left: 120px;">
									<input type="button" name="" id="button_yanzheng" value="" style="cursor: pointer;" />
								</div>
							</form>
						</div>
					</div>
				</form>
			</div>
		</section>

		<script src="js/script.js"></script>
		<script src="js/jquery-1.12.4.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$("#login").click(function()) {
				var money = $("#Name").text();
				var arr = money + "-" + money;
				setTimeout(function() {
					window.open("index.html?" + escape(arr));
				}, 100);
			}
		</script>
		<script type="text/javascript">
			$(document).ready(function() {
				$("#check_box").click(function() {
					if ($("#check_box").get(0).checked) {
						$("#zhuceaaa").css("display", "block");
					} else {
						$("#zhuceaaa").css("display", "none");
					}
				})
			})
		</script>
		<script type="text/javascript">
			//获取元素（两种方式都可以）
			var input = document.querySelector('#input_pwd');
			var inputs = document.querySelector('#input_repwd');
			var input_login = document.querySelector('#login_pwd');
			var imgs = document.getElementById('img_eyes');
			var imgss = document.getElementById('img_reEyes');
			var login_imgss = document.getElementById('login_pwdimg');
			//下面是一个判断每次点击的效果
			var flag = 0;
			imgs.onclick = function() {
				if (flag == 0) {
					input.type = 'text';
					img_eyes.src = 'img/show.png'; //睁眼图
					flag = 1;
				} else {
					input.type = 'password';
					img_eyes.src = 'img/hide.png'; //闭眼图
					flag = 0;
				}
			}
			imgss.onclick = function() {
				if (flag == 0) {
					inputs.type = 'text';
					img_reEyes.src = 'img/show.png'; //睁眼图
					flag = 1;
				} else {
					inputs.type = 'password';
					img_reEyes.src = 'img/hide.png'; //睁眼图
					flag = 0;
				}
			}
			login_imgss.onclick = function() {
				if (flag == 0) {
					input_login.type = 'text';
					login_pwdimg.src = 'img/show.png'; //睁眼图
					flag = 1;
				} else {
					input_login.type = 'password';
					login_pwdimg.src = 'img/hide.png'; //睁眼图
					flag = 0;
				}
			}
		</script>
		<script type="text/javascript">
			$("#login").click(function() {
				if (LogincheckEmail()) {
					window.open("index.html");
				}

			})
			/* //验证两次输入的邮箱是否一致
			function email() {
				if ($("#email").val() == "") {
					return false;
				} else if ($("#zhuceEmail").val() != $("#email").val()) {
					alert("两次输入的邮箱不一致");
					return false;
				} else {
					window.open("index.html");
					return true;
				}

			} */

			//验证邮箱
			function LogincheckEmail() {
				if ($("#email").val() == "") {
					return false;
				} else if ($("#email").val().indexOf("@") == -1 || $("#email").val().indexOf(".") == -1) {
					var c = alert("邮箱格式不正确！至少要包含“@” 和 “.” 符号");
					if (c == true) {
						return false;
					}

				} else {
					return true;
				}

			}
		</script>
		<script type="text/javascript">
			$(function() {
				$("form").submit(function() {
					if (checkEmail() && checkPwd() && checkRepwd() && info()) {
						var c = $("#zhuceEmail").val();
						$("#email").val(c);
						alert("您的邮箱为：" + c);
						return true;
					} else {
						return false;
					}
				})
			})
			//验证验证码
			function info() {
				if ($("#yanzheng").val() == $("#button_yanzheng").val()) {
					return true;
				} else {
					alert("验证码输入不正确！");
					getCode();
					return false;
				}
			}


			//验证邮箱
			function checkEmail() {
				if ($("#zhuceEmail").val() == "") {
					return false;
				} else if ($("#zhuceEmail").val().indexOf("@") == -1 || $("#zhuceEmail").val().indexOf(".") == -1) {
					var c = alert("邮箱格式不正确！至少要包含“@” 和 “.” 符号");
					if (c == true) {
						return false;
					}

				} else {
					return true;
				}

			}




			//验证密码
			function checkPwd() {
				if ($("#input_pwd").val() == "") {
					return false;
				} else if ($("#input_pwd").val().length < 6) {
					var a = alert("密码长度不可小于6位！");
					if (a == true) {
						return false;
					}
				} else {
					return true;
				}

			}

			//验证确认密码
			function checkRepwd() {
				if ($("#input_pwd").val() != $("#input_repwd").val()) {
					var a = alert("两次输入的密码不一致！");
					if (a == true) {
						return false;
					}

				} else {
					return true;
				}

			}
		</script>
		<script>
			var codeStr = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
			var oDiv = document.getElementById('button_yanzheng');
			// 用来生成随机整数
			function getRandom(n, m) { // param: (Number, Number)
				n = Number(n);
				m = Number(m);
				// 确保 m 始终大于 n
				if (n > m) {
					var temp = n;
					n = m;
					m = temp;
				}
				// 下有详细说明
				return Math.floor(Math.random() * (m - n) + n);
			}
			// 将随机生成的整数下标对应的字母放入div中
			function getCode() {
				var str = '';
				// 验证码有几位就循环几次
				for (var i = 0; i < 4; i++) {
					var ran = getRandom(0, 62);
					str += codeStr.charAt(ran);
				}
				oDiv.value = str;
			}
			getCode(); // 调用函数，页面刷新也会刷新验证码
			// 点击刷新验证码
			oDiv.onclick = function() {
				getCode();
			}
		</script>
	</body>
</html>
